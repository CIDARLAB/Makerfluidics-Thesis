\chapter{Introduction}
\label{chapter:Introduction}
\thispagestyle{myheadings}

%This work has three main thrusts: to create a microfluidic fabrication framework that lowers the barrier to entry for designing and fabricating microfluidics in a manner amenable to automation (Chapter \ref{chapter:mf}); to prove this methodology can design, fabricate, and control complex and novel microfluidic devices (Chapter \ref{chapter:xposer}); and to demonstrate the methodology can be used to solve biologically-relevant problems (Chapter \ref{chapter:acoust}).

Cellular computation is necessary for the orchestration of large biological systems. Efforts to design, build and test genetic computers have existed since the introduction of the repressilator over a decade ago \cite{elowitz2000}. Yet, literature reveals that even the most recent efforts in biological computation are limited to two and three-layer logical operations: a paltry number when compared to the relative state of electrical or mechanical computation \cite{nielsen2016genetic}. Efforts to scale these systems can be stymied by cellular complexity and the sheer amount of time and human effort involved in conducting even the simplest of computational experiments. It is estimated that the development of artemisinic acid, a precursor to the malaria drug artemisinin, required over 150 person-years of work \cite{kwok2010five}. This lengthy design-build-test cycle can be attributed to time spent tuning the complex metabolic pathways of \textit{Saccharomyces cerevisiae} to accept the new demands of producing the precursor \cite{artemisin}. Rather than adding layers of complexity to an already complex system, such as the metabolic pathways of \textit{Saccharomyces cerevisiae}, this work was motivated by the desire to scale genetic computers by creating different, simple genetic circuits and then distributing them among many different cells. This effectively creates a distributed network of elementary genetic computers that can then use traditional biological processes, such as quorum sensing, to communicate \cite{tamsir2011}. The question then became how best to facilitate communications between these cells. 

Microfluidics, by definition, facilitate the movement of small amounts of fluid across a device. This movement of fluids can be in the form of, among other methods, a continuous flow, encapsulated droplets \cite{teh2008droplet}, or electrowetted microdroplets \cite{kim2001micropumping}. Microfluidic devices can be used to dramatically scale the number of experiments in an automated fashion while reducing reagent costs. Additionally, microfluidic devices can be fabricated to meet certain specifications that allow for greater experimental reproducibility. Yet, microfluidics are not widely adopted by labs that regularly conduct experiments for which the benefits of microfluidic technology seem best suited (e.g., biology, chemistry, physics, etc.) \cite{whitesides2006}. 
%In light of these benefits, one is left to wonder why microfluidic devices are not widely adopted by labs that regularly conduct experiments for which the benefits of microfluidic technology seem best suited (e.g., biology, chemistry, physics, etc.) \cite{whitesides2006}. 

One possible explanation for the lack of widespread adoption of microfluidic technologies is that microfluidics are difficult to both design and fabricate \cite{whitesides2006}. Literature reveals that microfluidic devices at chip densities belonging to the classes of large scale integration (LSI), i.e., chips with hundreds to thousands of components, are drawn by hand in a graphics program, such as Adobe Illustrator, or using 3D modeling software, such as AutoCAD \cite{araci2014}. Any tweaks to common parameters (e.g., channel width, feature spacing, etc.) can necessitate a complete redrawing of large sections, or the entirety, of the chip. This can be mitigated using a parametric design interface, such as the one presented in Chapter \ref{sec:mfDesign}. 

Once a microfluidic design is complete, microfluidic devices must then be fabricated, the traditional process for which, namely soft lithography, resembles that of fabricating silicon microelectronics \cite{anderson2000fabrication}. Soft lithography is a process that requires access to a clean room, in addition to hundreds of thousands of dollars in specialized equipment \cite{xia1998soft}. Factoring in the costs of maintenance, training, and personnel, it is easy to see that the barrier to entry into the field of microfluidics is high, which can explain the lack of widespread adoption of microfluidic technology. Reducing the barrier to entry into microfludic fabrication is a major thrust of this research, the methods for which are outlined in Chapter \ref{sec:mfFabrication}.

Utilizing accessible technologies, rapid prototyping, and scalable design practices, the microfluidic fabrication framework developed during the course of this research, titled MakerFluidics, demonstrated its ability to do the following:
\begin{enumerate}
	\item Design, fabricate, and control complex and novel microfluidic devices (Chapter \ref{chapter:xposer}).
	\item Solve biologically relevant problems in industry (Chapter \ref{chapter:acoust}).
\end{enumerate}

A framework for manufacturing and controlling microfluidics should have the ability to scale in complexity. MakerFluidics proved its ability to do so through the development of a reconfigurable, continuous-flow routing fabric driven by a modular, scalable primitive called a transposer. The full specification of the transposer-based routing fabric, including the design, control, and applications thereof are provided in Chapter \ref{chapter:xposer}. 

Democratizing microfluidic technologies is useful only insofar as the technology is experimentally (e.g., biologically) relevant, as this was the initial motivation for pursuing microfluidic technology during the course of this research. Therefore, in addition to creating complex microfluidic networks, MakerFluidics was deployed in support of cutting-edge, application-focused research at Draper Laboratory. Informed by a design of experiments approach using the parametric rapid prototyping capabilities made possible by MakerFluidics, a plastic blood--bacteria separation device was optimized, demonstrating that the new device geometry can separate bacteria from blood while operating at 275\% greater flow rate as well as reduce the power requirement by 82\% for equivalent separation performance when compared to the state of the art. These results are fully presented in Chapter \ref{chapter:acoust}.


%Microfluidics offer\dots. As the concept of using engineering approaches to reprogram living organisms has been met with the immense, unyielding challenges of biological complexity and arduous experimental demands, microfluidics have proven  These challenges can be met by utilizing a robust prototyping environment paired with laboratory automation. 

%squarely to building and scaling genetic computers by removing the barriers of cellular complexity and human effort by characterizing all computers \textit{in vitro} using laboratory automation techniques in conjunction with a robust, cell-free, genetic ``breadboard'' \cite{siegalgaskins2014}.

%One goal of synthetic biology is to apply engineering principles to (re-)engineer living cells to perform logical computations towards integrating novel functions in larger biological systems \cite{huang2014JETC}.

%The lack of a rapid prototyping and debugging environment, similar to that found within electrical engineering, could be what is driving up the time and cost for the synthetic biology workflow\cite{siegalgaskins2014}. Unfortunately, the requirements for such a prototyping environment differ drastically from that of synthetic biologist to that of an electrical engineer. Often, one well-functioning prototype is enough to move an electrical circuit from prototyping to system integration or pre-production\cite{Harris+Harris}. This is quite different in synthetic biology where experiments are often expected to be repeated in triplicate. Additionaly, the time to complete a single experiment in genetic computation can increase by six hours for each additional logic layer \cite{tamsir2011}. The parallel nature and long reaction times found in synthetic biology present the need for automation. This work aims to connect a rapid prototyping environment with two techniques for laboratory automation towards the development of scalable genetic computers.


%-----------------------


%Synthetic biology as a field has the potential to offer game-changing breakthroughs in the fields of alternative energy, drug discovery, customized medicine, and alternative computing.  The main challenges facing scientists, particularly those working in micro-organisms such as \emph{E. coli} or yeast, are scaling up the number of experiments and the ability to quickly and accurately reproduce previous experiments.  Microfluidics, particularly continuous flow based systems and microfluidic large scale integration, provides a technology platform for chemical and biological experiments that can greatly benefit the synthetic biology community.  Specific details and examples of using microfluidics in the synthetic biology workflow of specify-design-assemble-verify are described in Chapter .

%%Currently, the majority of synthetic biology labs do not adopt microfluidics for the simple reason that microfluidics are hard to both design and manufacture.  Few synthetic biology labs have personnel with detailed knowledge of fluid dynamics.  The process to design a microfluidic device involves drawing every device feature and channel by hand in a graphics program such as Adobe Illustrator or AutoCAD.  The designer also has to keep track of and adjust all the required spacing between elements and between layers of the device.  The design process can take from several days for a simple device to several weeks for a complex device.  Small changes such as altering the size of elements or spacing between elements may mean redrawing large sections of the design to account for the overall design requirements.  For microfluidic large scale integration, devices can contain thousands of elements, making layout by hand increasingly time-consuming and error-prone.  In addition, the equipment and cleanroom space needed for device manufacturing is beyond the purview for many labs.
%With the current manufacturing process of multi-layer soft lithography, it takes approximately 7-10 days to make a device once a design has been finalized and a photomask printed.  Repeated iterations of device designs would take weeks or months with current technologies, making it vital that the device designs are error-free before fabrication.

%The goal now is to reduce the difficulty of designing and fabricating microfluidic devices so more synthetic biology labs will take advantage of the technology for their experiments. This thesis focuses on removing some of the barriers to microfluidic design by introducing a CAD tool for an end-to-end workflow from a textual description of a microfluidic device to the generation of a photomask.  The scope of the project is limited to continous flow based systems as those systems are the most amenable to the cell growth and monitoring experiments commonly used in synthetic biology.  The workflow captures and formalizes the design parameters that would otherwise be derived from trial and error and allows lab-specific design choices to be easily shared in the form of initialization files.  This ensures that expert knowledge is retained and reduces the learning curve of new designers.

%The end-to-end workflow begins with a new netlist format for describing the features on microfluidic devices and the connections between the features.  The netlist format contains commonly used microfluidic design elements such as ports, mixers, cell chambers, and multiplexers, and can be easily extended to describe additional features.  The full specification for the netlist format is in Chapter .  

%The netlist is converted to a graph representation of the microfluidic device, and the device undergoes automated layout and design rule checking.  Algorithms for placement and routing from electronic design automation were adapted to work with the design constraints of microfluidic devices.  Simulated annealing is used for placement, and Hadlock's variation of maze routing is used for routing.  Design rule checking is performed with a search of intersections between device features that reduces to a 1-D interval search.  These processes are described in detail in Chapter .  The result of this is a vector graphics file of the design for manufacturing.

%This workflow was used to build and test a prototype device for solving one of the challenges facing synthetic biology:  the lack of non-interferring genetic parts in large genetic networks.  Microfluidics could allow reuse of existing genetic parts by separating the parts both spatially and temporally.  Previous attempts at solving this challenge are described in Chapter .  A four chamber device that allowed fluid routing between any two chambers was designed with this workflow.  The photomask generated by this workflow was used to fabricate the device through multilayer soft lithography, and the device was tested with dye.  An alternative method of fabrication with a desktop computer numerical controlled (CNC) mill was also explored.  Where it would take a week to fabricated a device with multilayer soft lithography, a CNC mill can be used to fabricated devices in less than an hour.  The workflow was used to generate the design for a gradient generator, and the final device was fabricated with the CNC mill and tested with dye.  The results of these two experiments are described in Chapter .

%The contributions of this work to the fields of synthetic biology, microfluidics, and design automation are two-fold.  First, I provide the first end-to-end workflow for microfluidic design automation that includes a new netlist format for describing microfluidic devices, automated layout through place-and-route, and design rule checking.  Second, I provide a prototype device built with the workflow for directing communications between different cell populations that may increase the scalability of biological computation.  This work has to potential to unlock a paradigm shift in both microfluidic design and synthetic biology by harnessing the capabilities of design automation.
